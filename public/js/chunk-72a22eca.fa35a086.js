(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-72a22eca"],{"0a49":function(e,t,n){var a=n("9b43"),r=n("626a"),o=n("4bf8"),l=n("9def"),i=n("cd1c");e.exports=function(e,t){var n=1==e,s=2==e,c=3==e,u=4==e,d=6==e,f=5==e||d,m=t||i;return function(t,i,p){for(var g,h,v=o(t),b=r(v),x=a(i,p,3),y=l(b.length),_=0,w=n?m(t,y):s?m(t,0):void 0;y>_;_++)if((f||_ in b)&&(g=b[_],h=x(g,_,v),e))if(n)w[_]=h;else if(h)switch(e){case 3:return!0;case 5:return g;case 6:return _;case 2:w.push(g)}else if(u)return!1;return d?-1:c||u?u:w}}},1169:function(e,t,n){var a=n("2d95");e.exports=Array.isArray||function(e){return"Array"==a(e)}},"20d6":function(e,t,n){"use strict";var a=n("5ca1"),r=n("0a49")(6),o="findIndex",l=!0;o in[]&&Array(1)[o](function(){l=!1}),a(a.P+a.F*l,"Array",{findIndex:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(o)},7100:function(e,t,n){},"7c0f":function(e,t,n){"use strict";var a=n("7100"),r=n.n(a);r.a},a66b:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",[n("el-container",[n("el-aside",{attrs:{width:"200px"}},[n("el-col",{attrs:{span:24}},[n("div",{staticStyle:{height:"60px"}}),n("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"category"},on:{select:e.handleSelect}},[n("el-submenu",{attrs:{index:"1"}},[n("template",{slot:"title"},[n("span",[e._v("水果分类")])]),n("el-menu-item-group",[n("el-menu-item",{attrs:{index:"category"}},[e._v("编辑分类")])],1)],2),n("el-submenu",{attrs:{index:"2"}},[n("template",{slot:"title"},[n("span",[e._v("水果内容")])]),n("el-menu-item-group",[n("el-menu-item",{attrs:{index:"contents"}},[e._v("编辑内容")])],1)],2)],1)],1)],1),n("el-container",[n("el-header",[n("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":"1",mode:"horizontal"}},[n("el-menu-item",{attrs:{index:"1"}},[e._v("小麦报价单")]),n("el-menu-item",{attrs:{index:"2"}},[e._v("Markdown解析")])],1)],1),n("el-main",[n(e.currentModel,{tag:"div"})],1)],1)],1)],1)},r=[],o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[n("el-tree",{attrs:{data:e.categoryData,"show-checkbox":"","node-key":"id","default-expand-all":"","expand-on-click-node":!1,props:e.defaultProps,"render-content":e.renderContent}})],1)},l=[],i=(n("20d6"),1e3),s={name:"Category",components:{},data:function(){return{loading:!0,categoryData:[],defaultProps:{label:"name"}}},methods:{getCategory:function(){this.$ajax({method:"get",url:"/admin/fruits/category"}).then(function(e){this.categoryData=e.data,this.loading=!1}.bind(this))},append:function(e){var t={id:i++,label:"testtest",children:[]};e.children||this.$set(e,"children",[]),e.children.push(t)},remove:function(e,t){var n=e.parent,a=n.data.children||n.data,r=a.findIndex(function(e){return e.id===t.id});a.splice(r,1)},renderContent:function(e,t){var n=this,a=t.node,r=t.data;t.store;return e("span",{class:"custom-tree-node"},[e("span",[a.label]),e("span",[e("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(){return n.append(r)}}},["Append"]),e("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(){return n.remove(a,r)}}},["Delete"])])])}},mounted:function(){this.getCategory()}},c=s,u=n("2877"),d=Object(u["a"])(c,o,l,!1,null,null,null),f=d.exports,m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[n("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[n("el-col",{attrs:{span:6}},[n("el-form-item",{attrs:{label:"水果分类"}},[n("el-cascader",{attrs:{placeholder:"可直接搜索",filterable:"",options:e.options,props:{expandTrigger:"hover",label:"name",value:"id"}},on:{change:e.selectCategory},model:{value:e.categoryId,callback:function(t){e.categoryId=t},expression:"categoryId"}})],1)],1),n("el-col",{attrs:{span:6}},[n("el-form-item",{attrs:{label:"规格"}},[n("el-input",{model:{value:e.form.spec,callback:function(t){e.$set(e.form,"spec",t)},expression:"form.spec"}})],1)],1),n("el-col",{attrs:{span:6}},[n("el-form-item",{attrs:{label:"品牌"}},[n("el-input",{model:{value:e.form.brand,callback:function(t){e.$set(e.form,"brand",t)},expression:"form.brand"}})],1)],1),n("el-col",{attrs:{span:6}},[n("el-form-item",{attrs:{label:"单位"}},[n("el-input",{model:{value:e.form.unit,callback:function(t){e.$set(e.form,"unit",t)},expression:"form.unit"}})],1)],1),n("el-col",{attrs:{span:6,offset:6}},[n("el-form-item",{attrs:{label:"上次报价"}},[n("el-input",{model:{value:e.form.last_offer,callback:function(t){e.$set(e.form,"last_offer",t)},expression:"form.last_offer"}})],1)],1),n("el-col",{attrs:{span:6}},[n("el-form-item",{attrs:{label:"本次报价"}},[n("el-input",{model:{value:e.form.current_offer,callback:function(t){e.$set(e.form,"current_offer",t)},expression:"form.current_offer"}})],1)],1),n("el-col",{attrs:{span:6}},[n("el-form-item",{attrs:{label:"核定报价"}},[n("el-input",{model:{value:e.form.final_offer,callback:function(t){e.$set(e.form,"final_offer",t)},expression:"form.final_offer"}})],1)],1),n("el-col",{attrs:{span:18,offset:6}},[n("el-form-item",{attrs:{label:"质量承诺"}},[n("el-input",{attrs:{type:"textarea"},model:{value:e.form.quality,callback:function(t){e.$set(e.form,"quality",t)},expression:"form.quality"}})],1)],1),n("el-col",{attrs:{span:18,offset:6}},[n("el-form-item",{attrs:{label:"水果图片"}},[n("el-upload",{attrs:{action:e.picture_url,"list-type":"picture-card","on-preview":e.handlePictureCardPreview,headers:e.picture_headers,"on-remove":e.handleRemove}},[n("i",{staticClass:"el-icon-plus"})]),n("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1)],1),n("el-col",{staticStyle:{"text-align":"center"},attrs:{span:24}},[n("el-button",{on:{click:e.submitContent}},[e._v("提 交")])],1)],1)],1)},p=[],g={name:"Content",components:{},data:function(){return{loading:!0,options:[],categoryId:"",form:{c_id:"",spec:"",brand:"",unit:"",last_offer:"",current_offer:"",final_offer:"",picture_address:[]},dialogImageUrl:"",dialogVisible:!1,picture_url:"http://mcb.mike-co.top/api/admin/fruits/uploadPicture",picture_headers:{Authorization:"Bearer "+sessionStorage.getItem("authKey")}}},methods:{getCategory:function(){this.$ajax({method:"get",url:"/admin/fruits/category"}).then(function(e){this.options=e.data,this.loading=!1}.bind(this))},handleRemove:function(e,t){console.log(e,t)},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},selectCategory:function(e){this.loading=!0,this.$ajax({method:"post",url:"/admin/fruits/detail",data:{categoryId:e[e.length-1]}}).then(function(e){this.$message({showClose:!0,message:e.data.message,type:e.data.status}),"success"==e.data.status&&(console.log(e.data.content),this.form=e.data.content),this.loading=!1}.bind(this))},submitContent:function(){console.log(this.form),this.$ajax({method:"post",url:"/admin/fruits/saveDetail",data:this.form}).then(function(e){this.$message({showClose:!0,message:e.data.message,type:e.data.status})}.bind(this))}},mounted:function(){this.getCategory()}},h=g,v=Object(u["a"])(h,m,p,!1,null,null,null),b=v.exports,x={name:"Index",components:{category:f,contents:b},data:function(){return{currentModel:"category"}},methods:{handleSelect:function(e){this.currentModel=e}}},y=x,_=(n("7c0f"),Object(u["a"])(y,a,r,!1,null,null,null));t["default"]=_.exports},cd1c:function(e,t,n){var a=n("e853");e.exports=function(e,t){return new(a(e))(t)}},e853:function(e,t,n){var a=n("d3f4"),r=n("1169"),o=n("2b4c")("species");e.exports=function(e){var t;return r(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!r(t.prototype)||(t=void 0),a(t)&&(t=t[o],null===t&&(t=void 0))),void 0===t?Array:t}}}]);
//# sourceMappingURL=chunk-72a22eca.fa35a086.js.map